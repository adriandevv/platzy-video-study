{"version":3,"sources":["assets/mediaPlayer.ts","assets/plugins/AutoPlay.ts","assets/plugins/AutoPause.ts","assets/index.ts"],"names":[],"mappings":";;;;;AAAA,AEEA,ADDA,IDDA,AEEA,ADDA,QAAA,CCCA,EFFA,ACCA,CCCA,EFFA,UCCA,CCCA,EFFA,SCCA,CCCA,EFFA;EAGE,AEEE,ADHA,SDCF,AEEE,ADHA,QAAA,CCGA,ADHA,CCGA,CFFF,ACDE,CDCU,AEEV,ADHgB,MDCA,EAAA;ECAhB,EDCA,AEEI,IFFA,AEEI,CFFH,AEEI,CDHT,CAAA,GDCU,GAAG,CEEK,EDHlB,CCGqB,ADHrB,EDCmB,CAAC,AEEI,ADHrB,EDCmB,CCDtB,UAAI,MAAoB,EAAA;IDExB,AEEI,ADHA,IDCA,AEEI,ADHA,CDCH,AEEI,ADHA,MAAM,CDCH,ACDI,GDCD,ECDM,CAAC,GDCD,CAAC,CCDK,CCGC,CDHC,ECGE,EFFF,EEEM,CAAC,CFFH,EAAE,gBEEoB,CAAC,IAAI,CAAC,IAAI,CAAC;IFAlE,AECI,EDHI,EDEJ,AECI,CFDH,AECI,GDHK,CAAC,KAAK,CAAC,CDEL,CAAA,CAAE,ECFQ,GAAG,ICGE,ADHE,GCGC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC;ACR5E,EHQE,AEEE,ECVJ,aAAA,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AACA,EHQE,AEEE,ECVJ,AFMQ,MAAM,CCIV,ADJW,CCIX,CFFF,CGRF,AHQE,CCFiB,CAAA,CENnB,AFMqB,ICIjB,CAAA,CFFF,CAAA,CEEK,GFFD,AEEF,GFFF,CGRF,CAAA,KDUQ,ECVR,CAAA,EHQE,CEEY,EAAA,eCVd,CAAA,CAAA;AACA,EFMI,CAAC,CENL,AHQI,AEEI,IFFA,AEEI,CFFH,AEEI,KFFC,CGRd,AHQe,AEEI,GCVnB,ADUqB,EFFD,GAAG,CEEI,GFFA,MGR3B,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;AAEA,EHOE,ACFF,CDEG,CGPG,ADUE,IAAM,CCVH,AFKX,GELc,IDUQ,CDLrB,ECKwB,CCVH,CAAC,EDUM,WCVO,CAAC,OAAO,CAAC,ADUI,CAAC,IAAI,CAAC,mBAAmB,EAAC;ACT3E,AFIA,CARA,CDWE,ACXF,CAAA,CEIM,EDUM,OCVG,AHOb,CAAA,CEGmB,CCVS,CDUR,IAAI,CAAC,CFHzB,CGPoC,AHOpC,CGPqC,KHO/B,GAAN,KGPkD,CAAC,MHOnD,MGP+D,CAAC;AAClE,AFIA,IEJM,AHOF,CEGK,CAAC,CDNV,CDGQ,ACHR,CDGS,KGPO,AHOF,CAAC,ACHf,EEJ+B,CFIhB,EDGK,GAAG,EGPgB,CAAC,AFIjB,EDGK,WGPyB,CAAC,aAAa,CAAC;AAEpE,EHME,CAAC,CGNG,ADSE,MCTI,EDSI,CCTD,ADSE,ICTE,GDSK,CAAC,IAAI,CAAC,ICTX,CAAA,CDSiB,CAAC,KCTP,ADSY,CCTX,ADSY;ECTX,AHOtB,EGPwB,ADW1B,ECX2B,KAAK,CDWxB,CFJN,AEIO,CFJP,SAAA,CAAA,KEIuB,CAAC,KFJb,GAAnB,UEIkD,EFJlD,AEIoD,IAAI,CAAC,sBAAsB,CAAC;ECXxC,ADYtC,CAAC,CFLH,IAAA,CGP+C,EAAE,CAAC,CHOlD,GGPsD,AHOtD,IAAA,MGPsD,CAAA,OAAQ,CAAA,CAAE,EAAC,IAAI,WAAA,CAAA,OAAS,CAAA,CAAE;CACjF,CAAC,ADYU,EFJR,IAAI,CAAC,EEIG,CAAA,IFJI,CAAC,IEIL,CAAA,EFJY,CAAC,UAAA,MAAM,AEIA,EFJA,CEI3B,UAA4B,OAAmC,EAAA;ACXnE,IDYQ,EFJF,EEIQ,CCZL,CAAC,EHQE,CAAC,AEIM,GFJH,AEIM,CCZL,AHQA,GGRG,EHQC,CAAC,AEIO,CAAC,CAAC,CAAC,MCZZ;EAAK,EHSrB,AEII,CFJH,CAAC,EEIQ,CCbW,MAAM,CAAC,CDaT,GAAE,KAAK,CCbY,ADaX,CCbW,CAAE,eDaI,IAAG,IAAI,CAAC,SAAS;ACbxC,CAAmB,CHU1C,CAAC,CEIK,IAAG,SAAS,EAAC;ACbrB,EHUE,IEIU,ICdF,ADcM,CCdL,ADcM,EFJf,CAAA,GEIqB,CCdL,ADcM,GCdH,CDcO,CFJ1B,AEI0B,CFJ1B,AEI4B,KFJvB,GAAL,CGVmB,WHUnB;EGVwB,EHWtB,CEIK,GFJD,CGXkB,AHWjB,EEII,GFJC,CGXkB,AHWjB,CGXkB,IHWb,CAAA,CAAE,IGXqB,CAAA,CAAE;AAAnB,CAAmB,CHY3C,CAAC,GEIS,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA,CAAE;EFH7B,WAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;EEKE,CAAC,CFJD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAA,CAAE;EACnB,AEIU,CFJT,QEIS,CAAA,SAAA,CAAA,sBAAsB,GAA9B,YAAA;EFHF,EEIG,IAAM,KFJT,CAAA,GEIkB,GAAG,GFJrB,CAAA,IEI6B,CAAC,KFJpB,GAAV,OEI6C,KFJ7C,AEIkD,SAAS;IFHzD,AEIC,IFJG,AEIC,CFJA,KAAK,CAAC,EEIG,EAAC,CFJC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;EACtC,CAAC,GEIM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA,CAAE;EFHzB,GEIO,MAAI,EFJX,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;IACE,EEIK,EFJD,EEIK,CAAC,CFJF,CAAC,IEIO,CFJF,AEIG,CFJF,IEIO,CAAA,CFJD,AEIG,EFJD;MACrB,IAAI,CAAC,IAAI,CAAA,CAAE;EEKb,CAAC,EFJA,MAAM;EEKX,IFJM,GEIN,CFJU,CAAC,KAAK,CAAA,CAAE,AEIjB;AAAD,CApCA,CAAA,CAAA;AAqCA,EFHE,CAAC,IEGH,CAAA,OAAA,GAAe,SAAS;EFFxB,OAAA,WAAC;AAAD,CArCA,CAAA,CAAA;AAuCE,OAAA,CAAA,OAAA,GAAe,WAAW","file":"assets.71ddc51b.js","sourceRoot":"..","sourcesContent":["class MediaPlayer {\n  media:HTMLMediaElement;\n  plugins:Array<any>;\n  constructor(config) {\n    this.media = config.el;\n    this.plugins = config.plugins || [];\n\n    this.initPlugins();\n  }\n  mute() {\n    this.media.muted = true;\n  }\n  unMute() {\n    this.media.muted = false;\n  }\n  private initPlugins() {\n\n    this.plugins.forEach(plugin => {\n      plugin.run(this);\n    });\n  }\n  pause() {\n    this.media.pause();\n  }\n  play() {\n    this.media.play();\n  }\n  toggleMute() {\n    this.media.muted = !this.media.muted;\n  }\n  togglePlay() {\n    if (this.media.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n}\n\n  export default MediaPlayer;","import MediaPlayer from \"../mediaPlayer\";\nclass AutoPlay {\n    constructor() { }\n    run(player : MediaPlayer) {\n        if (!player.media.muted) {\n            player.media.muted = true;\n        }\n        player.play();\n    }\n}\nexport default AutoPlay;","import MediaPlayer from \"../mediaPlayer\";\n\nclass AutoPause{\n    private threshold:number;\n    player: MediaPlayer;\n    constructor(){\n        this.threshold = .25;\n        this.handlerIntersection = this.handlerIntersection.bind(this);\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n\n    }\n    run(player){\n        this.player= player;\n\n        const observer = new IntersectionObserver(this.handlerIntersection,{\n            threshold:this.threshold,\n        });\n        observer.observe(this.player.media);\n\n        document.addEventListener(\"visibilitychange\", this.handleVisibilityChange);\n    }\n    private handlerIntersection(entries:IntersectionObserverEntry[]){\n        const entry = entries[0];\n        const isVisible =entry.intersectionRatio>= this.threshold;\n        if(isVisible){\n            this.player.play();\n        }else{\n            this.player.pause();\n        }\n    }\n    private handleVisibilityChange(){\n     const isVisible = document.visibilityState === \"visible\";\n     if (isVisible){\n         this.player.play();\n        }else{\n         this.player.pause();\n     }\n    }\n}\nexport default AutoPause;","import MediaPlayer from './mediaPlayer';\nimport AutoPlay from './plugins/AutoPlay';\nimport AutoPause from './plugins/AutoPause';\n\nconst video = document.querySelector(\"video\");\nconst PlayPause:HTMLElement = document.querySelector(\".PlayPause\");\nconst MuteUnmute:HTMLElement = document.querySelector(\".MuteUnmute\");\n\nconst player = new MediaPlayer({el:video, plugins: [new AutoPlay(),new AutoPause(),]\n});\nPlayPause.onclick = ()=> player.togglePlay();\nMuteUnmute.onclick = ()=> player.toggleMute();\n"]}